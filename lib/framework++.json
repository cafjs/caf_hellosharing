{
    "name": "top",
    "env" : {
        "publicHostname" : "process.env.publicHostname||root-hellosharing.cafjs.com"
    },
    "components": [
        {
            "name": "log",
            "env" : {
                "logLevel" : "DEBUG"
            }
        },
        {
            "name": "security",
            "module": "caf_security#plug",
            "description": "Authenticates requests\n Properties: <keysDir> Directory with key material, defaults to colocated with ca_methods.js (i.e., <app_root>/lib). \n <trustedPubKeyFile> Trusted public key to verify signed tokens. \n <privateKeyFile> Optional private key to sign tokens. \n <pubKeyFile> Optional public key for signing key. \n <appPublisher> Name of the app publisher.\n <appLocalName> Local name app given by the app publisher.\n <allowNobodyUser> Enable the user 'nobody' to bypass authentication",
            "env" : {
                "keysDir": null,
                "trustedPubKeyFile" : "rsa_pub.pem",
                "privateKeyFile": null,
                "publicKeyFile" : null,
                "appPublisher" : "root",
                "appLocalName" : "hellosharing",
                "allowNobodyUser" : false,
                "accountsURL": "process.env.ACCOUNTS_URL||https://root-accounts.cafjs.com"
            }
        },
        {
            "name": "cp"
        },
        {
            "name": "cp2",
            "module" : "caf_redis#plug",
            "description" : "Checkpointing service",
            "env" : {
               "nodeId": "default",
                "paas" : "redis",
               "redis" : {
                   "password" : null,
                   "port" : "process.env.REDIS_PORT_6379_TCP_PORT||6379",
                   "hostname" : "process.env.REDIS_PORT_6379_TCP_ADDR||localhost"
                },
                "coalescing" : {
                    "interval" : 10,
                    "maxPendingUpdates" : 20
                }
            }
        },
        {
            "name": "sharing",
            "module": "caf_sharing#plug",
            "description": "Sharing service",
            "env" : {
                "persistService" : "cp",
                "routeService" : "cp2"
            }
        },
        {
            "name" : "react",
            "module": "caf_react#plug",
            "description": "React.js background rendering",
            "env": {
                "appFileName" : "../public/index.html",
                "separator" : "<section id=\"content\">",
                "cacheService" : "cp",
                "expiresInSec" : 60
            }
        }
    ]
}
